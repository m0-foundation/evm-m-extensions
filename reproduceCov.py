import json

sequence_str = r'''[{"call":{"contents":["fuzz_swapOutToken",[{"contents":[256,"1524785992"],"tag":"AbiUInt"}]],"tag":"SolCall"},"delay":["0x000000000000000000000000000000000000000000000000000000000002621e","0x0000000000000000000000000000000000000000000000000000000000005258"],"dst":"0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496","gas":1000000000,"gasprice":"0x0000000000000000000000000000000000000000000000000000000000000000","src":"0x0000000000000000000000000000000000020000","value":"0x0000000000000000000000000000000000000000000000000000000000000000"},{"call":{"contents":["fuzz_swapInToken",[{"contents":[256,"1524785991"],"tag":"AbiUInt"}]],"tag":"SolCall"},"delay":["0x000000000000000000000000000000000000000000000000000000000007f7c2","0x000000000000000000000000000000000000000000000000000000000000d8f2"],"dst":"0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496","gas":1000000000,"gasprice":"0x0000000000000000000000000000000000000000000000000000000000000000","src":"0x0000000000000000000000000000000000020000","value":"0x0000000000000000000000000000000000000000000000000000000000000000"},{"call":{"contents":["fuzz_swapInToken",[{"contents":[256,"62774356207061291798202309433713044721259485556317757744149274228209194291479"],"tag":"AbiUInt"}]],"tag":"SolCall"},"delay":["0x00000000000000000000000000000000000000000000000000000000000518a3","0x0000000000000000000000000000000000000000000000000000000000000463"],"dst":"0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496","gas":1000000000,"gasprice":"0x0000000000000000000000000000000000000000000000000000000000000000","src":"0x0000000000000000000000000000000000020000","value":"0x0000000000000000000000000000000000000000000000000000000000000000"},{"call":{"contents":["fuzz_swapInToken",[{"contents":[256,"1524785993"],"tag":"AbiUInt"}]],"tag":"SolCall"},"delay":["0x00000000000000000000000000000000000000000000000000000000000671ad","0x00000000000000000000000000000000000000000000000000000000000000ff"],"dst":"0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496","gas":1000000000,"gasprice":"0x0000000000000000000000000000000000000000000000000000000000000000","src":"0x0000000000000000000000000000000000020000","value":"0x0000000000000000000000000000000000000000000000000000000000000000"},{"call":{"contents":["fuzz_swapOutToken",[{"contents":[256,"4369999"],"tag":"AbiUInt"}]],"tag":"SolCall"},"delay":["0x0000000000000000000000000000000000000000000000000000000000080772","0x000000000000000000000000000000000000000000000000000000000000d065"],"dst":"0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496","gas":1000000000,"gasprice":"0x0000000000000000000000000000000000000000000000000000000000000000","src":"0x0000000000000000000000000000000000010000","value":"0x0000000000000000000000000000000000000000000000000000000000000000"},{"call":{"contents":["fuzz_swapInToken",[{"contents":[256,"2640476"],"tag":"AbiUInt"}]],"tag":"SolCall"},"delay":["0x00000000000000000000000000000000000000000000000000000000000142ef","0x000000000000000000000000000000000000000000000000000000000000d065"],"dst":"0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496","gas":1000000000,"gasprice":"0x0000000000000000000000000000000000000000000000000000000000000000","src":"0x0000000000000000000000000000000000030000","value":"0x0000000000000000000000000000000000000000000000000000000000000000"}]'''

sequence = json.loads(sequence_str)

print('  function test_repro() public {')
for i in range(len(sequence) - 1):
    item = sequence[i]
    call = item['call']
    func = call['contents'][0]
    arg = call['contents'][1][0]['contents'][1]
    if isinstance(arg, str) and len(arg) > 20:
        print('        try')
        print(f'            this.{func}({arg})')
        print('        {} catch {};')
    else:
        print(f'        try this.{func}({arg}) {{}} catch {{}};')

item = sequence[-1]
func = item['call']['contents'][0]
arg = item['call']['contents'][1][0]['contents'][1]
if isinstance(arg, str) and len(arg) > 20:
    print(f'        {func}(')
    print(f'            {arg}')
    print('        );')
else:
    print(f'        {func}({arg});')

print('    }')